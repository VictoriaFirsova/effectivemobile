# Cafe Management System

Это приложение предназначено для управления кафе. Оно предоставляет функционал для работы с заказами, блюдами и управления их статусами.  

Приложение разработано с использованием **Django** и **Django REST Framework (DRF)**. Оно включает API для управления заказами и связанными данными.

---

## **Основные возможности**

- Управление блюдами (Dish):
  - Добавление новых блюд с указанием имени и цены.
  - Просмотр всех доступных блюд.

- Управление заказами (Order):
  - Создание заказа с указанием номера стола.
  - Добавление блюд и количества к заказу.
  - Обновление информации о заказах (например, изменение статуса).
  - Удаление заказов.

- API:
  - Полный REST API для работы с заказами (создание, чтение, обновление, удаление).
  - Возможность добавления и редактирования блюд через API.

---

## **Технологии**

- **Язык и фреймворки**:
  - Python 3.12
  - Django 5.1.5
  - Django REST Framework (DRF)

- **База данных**:
  - SQLite (по умолчанию, для удобства разработки)
---

## **Установка и развертывание**

Следуйте этим шагам для развертывания приложения.

### **1. Клонирование проекта**

Склонируйте проект из репозитория (или если это ваш локальный проект):

```bash
git clone <(https://github.com/VictoriaFirsova/effectivemobile/)>
cd cafe_management
```

---

### **2. Настройка виртуального окружения**

Создайте и активируйте виртуальное окружение для Python:

```bash
# В Windows:
python -m venv venv
venv\Scripts\activate

# В macOS/Linux:
python3 -m venv venv
source venv/bin/activate
```

---

### **3. Установка зависимостей**

Убедитесь, что в проекте есть файл `requirements.txt`. Установите все необходимые зависимости:

```bash
pip install -r requirements.txt
```

---

### **4. Применение миграций**

Подготовьте базу данных, применив миграции:

```bash
python manage.py migrate
```

---

### **5. Заполнение базы данных (опционально)**

Можно добавить тестовые данные для проверки работы приложения. Если в проекте есть готовый файл `fixtures.json` для загрузки данных, используйте:

```bash
python manage.py loaddata dishes.json
python manage.py loaddata orders.json
python manage.py loaddata order_dishes.json
```

Если данных нет, вы можете добавить их через админ-панель (см. ниже).

---

### **6. Запуск локального сервера**

Запустите сервер разработки:

```bash
python manage.py runserver
```

Сервер запустится по адресу: [http://127.0.0.1:8000](http://127.0.0.1:8000).

---

### **7. Админ-панель**

Для доступа к админ-панели создайте суперпользователя:

```bash
python manage.py createsuperuser
```

Выполните инструкции (введите логин, почту и пароль). Затем войдите в админ-панель по адресу:

[http://127.0.0.1:8000/admin](http://127.0.0.1:8000/admin)

---

## **Инструкции по использованию API**

Для работы с API можно использовать **Postman** или другие подобные инструменты.  

Основные эндпоинты API доступны по префиксу `/api/`. Примеры:

1. **Получение всех заказов:**
   ```
   GET http://127.0.0.1:8000/api/orders/
   ```
2. **Создание нового заказа:**
   ```
   POST http://127.0.0.1:8000/api/orders/
   Body (JSON):
   {
       "table_number": 5,
       "items": [
           {"dish": 1, "quantity": 3},
           {"dish": 2, "quantity": 1}
       ]
   }
   ```
3. **Обновление заказа:**
   ```
   PUT http://127.0.0.1:8000/api/orders/1/
   Body (JSON):
   {
       "table_number": 3,
       "status": "closed",
       "items": []
   }
   ```

Полный список эндпоинтов зависит от настроенных маршрутов (см. `urls.py`).

---

## **Дополнительные настройки**

### Переключение базы данных

Если нужно переключиться на другую базу данных (например, PostgreSQL), поменяйте настройки в `settings.py`:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'cafe_management',
        'USER': 'postgres',
        'PASSWORD': 'your_password',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
```

Затем выполните миграции для новой базы данных:
```bash
python manage.py migrate
```
